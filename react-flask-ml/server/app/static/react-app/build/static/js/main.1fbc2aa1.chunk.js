(window.webpackJsonpui=window.webpackJsonpui||[]).push([[0],[,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/Iris_setosa.ae50200c.jpg"},function(e,t,a){e.exports=a.p+"static/media/Iris_versicolor.5a579307.jpg"},function(e,t,a){e.exports=a.p+"static/media/Iris_virginica.d805f204.jpg"},function(e,t,a){e.exports=a.p+"static/media/iris_background_1.c6874412.jpg"},function(e,t,a){e.exports=a(26)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n,i,s,r,c,l,o,u,p,d,h,m,f,v,g=a(0),b=a.n(g),y=a(8),E=a.n(y),x=(a(18),a(1)),j=a(2),C=a(4),O=a(3),k=a(6),w=a(5),D=(a(19),a(20),function(e){function t(e){var a;return Object(x.a)(this,t),(a=Object(C.a)(this,Object(O.a)(t).call(this,e))).state={date:new Date},a}return Object(w.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.TimerID=setInterval(function(){return e.tick()},1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.TimerID)}},{key:"tick",value:function(){this.setState({date:new Date})}},{key:"render",value:function(){return b.a.createElement("section",{id:"MyTimer"},this.state.date.toLocaleTimeString())}}]),t}(b.a.Component)),_=(a(21),a(22),a(23),function(e){function t(e){var a;return Object(x.a)(this,t),(a=Object(C.a)(this,Object(O.a)(t).call(this,e))).state={value:0},a.handleChange=a.handleChange.bind(Object(k.a)(a)),a}return Object(w.a)(t,e),Object(j.a)(t,[{key:"handleChange",value:function(e){this.setState({value:e.target.value}),this.props.onChange(e.target.value)}},{key:"render",value:function(){return b.a.createElement("section",{className:"input-slider"},b.a.createElement("label",null,b.a.createElement("span",{className:"input-slider-text"},b.a.createElement("span",null,this.props.label?this.props.label:"Petal Width"," : "),b.a.createElement("input",{type:"number",name:"input-slider-num",placeholder:"0",value:this.state.value,onChange:this.handleChange,min:this.props.min?this.props.min:0,max:this.props.max?this.props.max:100,step:this.props.step?this.props.step:.01})),b.a.createElement("span",{className:"input-slider-range"},b.a.createElement("input",{type:"range",name:"input-slider-num",placeholder:"0",value:this.state.value,onChange:this.handleChange,min:this.props.min?this.props.min:0,max:this.props.max?this.props.max:100,step:this.props.step?this.props.step:.01}))))}}]),t}(b.a.Component)),N=function(e){function t(e){var a;return Object(x.a)(this,t),(a=Object(C.a)(this,Object(O.a)(t).call(this,e))).state={values:[0,0,0,0]},a.handleChange=a.handleChange.bind(Object(k.a)(a)),a.handleFileChosen=a.handleFileChosen.bind(Object(k.a)(a)),a.handleFileRead=a.handleFileRead.bind(Object(k.a)(a)),a}return Object(w.a)(t,e),Object(j.a)(t,[{key:"handleChange",value:function(e,t){this.setState(function(a){return{values:a.values.map(function(a,n){return n===e?t:a})}}),this.props.onChange(this.state.values)}},{key:"handleFileChosen",value:function(e){(n=new FileReader).onloadend=this.handleFileRead,n.readAsText(e)}},{key:"handleFileRead",value:function(e){this.props.onDataFile(n.result)}},{key:"render",value:function(){var e=this;return b.a.createElement("section",{className:"iris-prediction-form"},b.a.createElement(_,{onChange:function(t){return e.handleChange(0,t)},min:"4.0",max:"8.0",label:"Sepal Length"}),b.a.createElement(_,{onChange:function(t){return e.handleChange(1,t)},min:"1.5",max:"5.0",label:"Sepal Width"}),b.a.createElement(_,{onChange:function(t){return e.handleChange(2,t)},min:"0.5",max:"7.5",label:"Petal Length"}),b.a.createElement(_,{onChange:function(t){return e.handleChange(3,t)},min:"0.0",max:"3.0",label:"Petal Width"}),b.a.createElement("div",null,b.a.createElement("label",{htmlFor:"files",id:"file-input"},"Choose a CSV File instead!"),b.a.createElement("input",{onChange:function(t){return e.handleFileChosen(t.target.files[0])},accept:".csv",id:"files",style:{visibility:"hidden"},type:"file"})))}}]),t}(b.a.Component),I=(a(24),a(9)),S=a.n(I),F=a(10),A=a.n(F),R=a(11),L=a.n(R),P=function(e){function t(){return Object(x.a)(this,t),Object(C.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return b.a.createElement("section",{className:"iris-prediction"},b.a.createElement("div",{className:"iris-prediction__text-container"},b.a.createElement("div",{className:"iris-prediction__text--faded"},"Sepal height, Sepal width, Petal height, Petal Width"),b.a.createElement("div",{className:"iris-prediction__text--faded"},this.props.results.inputs),b.a.createElement("div",{className:"iris-prediction__text--faded"},"Prediction:"),b.a.createElement("div",{className:"iris-prediction__text"},this.props.results.species)),b.a.createElement("div",{className:"iris-prediction__image-container"},b.a.createElement("div",{className:"mask"}),b.a.createElement("div",{className:"Iris_setosa"===this.props.results.species?"iris-prediction__image--active":""},b.a.createElement("div",{style:{backgroundImage:"url('".concat(S.a,"')")}}),b.a.createElement("div",null,"Iris Setosa")),b.a.createElement("div",{className:"Iris_versicolor"===this.props.results.species?"iris-prediction__image--active":""},b.a.createElement("div",{style:{backgroundImage:"url('".concat(A.a,"')")}}),b.a.createElement("div",null,"Iris Versicolor")),b.a.createElement("div",{className:"Iris_virginica"===this.props.results.species?"iris-prediction__image--active":""},b.a.createElement("div",{style:{backgroundImage:"url('".concat(L.a,"')")}}),b.a.createElement("div",null,"Iris Virginica"))))}}]),t}(b.a.Component),W=[],T=function(e){function t(e){var a;return Object(x.a)(this,t),(a=Object(C.a)(this,Object(O.a)(t).call(this,e))).state={inputs:[0,0,0,0],species:"Iris_versicolor"},a.handleChange=a.handleChange.bind(Object(k.a)(a)),a.handleDataFile=a.handleDataFile.bind(Object(k.a)(a)),a}return Object(w.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.timerID=setInterval(function(){if(0!==W.length){var t="";W.forEach(function(e){t="".concat(t,"\r\n").concat(e)}),W=[],e.postData("http://localhost:5000/api/predict?format=csv",t.substr(2)).then(function(t){e.setState({inputs:t.predictions[t.predictions.length-1].inputs,species:t.predictions[t.predictions.length-1].prediction.replace(new RegExp(/-/g),"_")});var a=[];t.predictions.forEach(function(e){a.push({sepalLength:e.inputs[0],sepalWidth:e.inputs[1],petalLength:e.inputs[2],petalWidth:e.inputs[3],species:e.prediction.replace(new RegExp(/-/g),"_")})}),e.props.onNewData(a)})}},250)}},{key:"handleChange",value:function(e){this.setState({inputs:e}),W.push(e.toString())}},{key:"handleDataFile",value:function(e){var t=[];e.split("\n").forEach(function(e,a){var n=e.replace(new RegExp(/\r/g),"").split(",");parseFloat(n[0])&&t.push(n.splice(0,4).join(",").replace(new RegExp(/ /g),""))}),W=t}},{key:"getData",value:function(e){return new Promise(function(t){var a=new XMLHttpRequest;a.onreadystatechange=function(){4===a.readyState&&200===a.status&&t(JSON.parse(a.responseText))},a.open("GET",e,!0),a.send()})}},{key:"postData",value:function(e,t){return new Promise(function(a){var n=new XMLHttpRequest;n.onreadystatechange=function(){4===n.readyState&&200===n.status&&a(JSON.parse(n.responseText))},n.open("POST",e,!0),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.send(t)})}},{key:"render",value:function(){return b.a.createElement("section",{className:"iris-prediction-component"},b.a.createElement("div",null,b.a.createElement("p",null,"Input Controls"),b.a.createElement(N,{onChange:this.handleChange,onDataFile:this.handleDataFile})),b.a.createElement("div",null,b.a.createElement("p",null,"Prediction"),b.a.createElement(P,{results:{species:this.state.species,inputs:this.state.inputs.map(function(e){return parseFloat(e).toFixed(2)}).join(", ")}})))}}]),t}(b.a.Component),M=(a(25),window.d3),J=function(e){function t(){return Object(x.a)(this,t),Object(C.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(j.a)(t,[{key:"componentDidUpdate",value:function(){h?this.updateDate(this.props.data):(this.init(),this.setupCanvasAndDrawData(this.props.data))}},{key:"init",value:function(){i=document.getElementById("scatter-plot-matrix").parentElement.clientWidth,s=(i-4*(r=20))/4,c=M.scaleLinear().range([r/2,s-r/2]),l=M.scaleLinear().range([s-r/2,r/2]),o=M.axisBottom().scale(c).ticks(6),u=M.axisLeft().scale(l).ticks(6),p=M.scaleOrdinal(M.schemeCategory10),console.log("d3 Document Initialized")}},{key:"render",value:function(){return b.a.createElement("section",{className:"scatter-plot-matrix",id:"scatter-plot-matrix"},b.a.createElement("div",{className:"plot-container",ref:"plotContainer"}))}},{key:"updateDate",value:function(e){var t=this;f.forEach(function(t){d[t]=M.extent(e,function(e){return e[t]})}),h.selectAll(".x.axis").each(function(e){c.domain(d[e]),M.select(this).call(o)}),h.selectAll(".y.axis").each(function(e){l.domain(d[e]),M.select(this).call(u)}),h.selectAll(".cell").each(function(e){t.plot(this,e,!1)})}},{key:"setupCanvasAndDrawData",value:function(e){var t=this;d={},f=M.keys(e[0]).filter(function(e){return"species"!==e}),v=f.length,f.forEach(function(t){d[t]=M.extent(e,function(e){return e[t]})}),console.log("Obtained domain range by data variables: \n ".concat(JSON.stringify(d),"\n")),o.tickSize(s*v),u.tickSize(-s*v),(h=M.select(this.refs.plotContainer).append("svg").attr("width",s*v+r).attr("height",s*v+r).append("g").attr("transform","translate("+r+","+r/2+")")).selectAll(".x.axis").data(f).enter().append("g").attr("class","x axis").attr("transform",function(e,t){return"translate("+(v-t-1)*s+",0)"}).each(function(e){c.domain(d[e]),M.select(this).call(o)}),h.selectAll(".y.axis").data(f).enter().append("g").attr("class","y axis").attr("transform",function(e,t){return"translate(0,"+t*s+")"}).each(function(e){l.domain(d[e]),M.select(this).call(u)}),console.log("Setup canvas and axises for each data trait: \n ".concat(Object.keys(d),"\n"));var a=(m=h.selectAll(".cell").data(t.cross(f,f))).enter().append("g").attr("class","cell").attr("transform",function(e){return"translate("+(v-e.i-1)*s+","+e.j*s+")"}).each(function(e){t.plot(this,e,!0)});console.log("Setup plot frames, also fill the plot with the dataset"),console.log(m),(m=a.merge(m)).filter(function(e){return e.i===e.j}).append("text").attr("x",r).attr("y",r).attr("dy",".71em").style("fill","#aaa").text(function(e){return e.x}),console.log("Added titles on the diagonal");var n,i=M.brush().on("start",function(e){n!==this&&(M.select(n).call(i.move,null),n=this,c.domain(d[e.x]),l.domain(d[e.y]))}).on("brush",function(e){var t=M.brushSelection(this);h.selectAll("circle").classed("hidden",function(a){return!!t&&(t[0][0]>c(+a[e.x])||c(+a[e.x])>t[1][0]||t[0][1]>l(+a[e.y])||l(+a[e.y])>t[1][1])})}).on("end",function(){null===M.brushSelection(this)&&h.selectAll(".hidden").classed("hidden",!1)}).extent([[0,0],[s,s]]);m.call(i),console.log("Setup the brushes")}},{key:"plot",value:function(e,t,a){var n=M.select(e);c.domain(d[t.x]),l.domain(d[t.y]),a&&this.drawCell(n),this.drawData(n,t)}},{key:"drawData",value:function(e,t){var a=e.selectAll("circle").data(this.props.data);a.exit().remove(),a.enter().append("circle").attr("r",0).merge(a).transition().duration(500).attr("cx",function(e){return c(e[t.x])}).attr("cy",function(e){return l(e[t.y])}).attr("r",2).style("fill",function(e){return p(e.species)})}},{key:"drawCell",value:function(e){e.append("rect").attr("class","frame").attr("x",r/2).attr("y",r/2).attr("width",s-r).attr("height",s-r)}},{key:"cross",value:function(e,t){var a,n,i=[],s=e.length,r=t.length;for(a=-1;++a<s;)for(n=-1;++n<r;)i.push({x:e[a],i:a,y:t[n],j:n});return i}}]),t}(b.a.Component),B=a(12),q=a.n(B),z=function(e){function t(e){var a;return Object(x.a)(this,t),(a=Object(C.a)(this,Object(O.a)(t).call(this,e))).state={counter:0,species:["Iris_setosa","Iris_versicolor","Iris_virginica"],date:new Date,data:{species:"Iris_versicolor",inputs:"13.2, 52.4, 26.3, 21.2"},predictionData:[]},a.handleNewData=a.handleNewData.bind(Object(k.a)(a)),a}return Object(w.a)(t,e),Object(j.a)(t,[{key:"handleNewData",value:function(e){this.setState({predictionData:this.state.predictionData.concat(e)})}},{key:"render",value:function(){return b.a.createElement("div",{className:"App",style:{backgroundImage:"url('".concat(q.a,"')")}},b.a.createElement("main",{className:"App-main-content"},b.a.createElement(D,null),b.a.createElement("h3",null,"Change the input controls and see live prediction of the ML Model."),b.a.createElement("div",{className:"ScatterPlotMatrix-container"},b.a.createElement(J,{data:this.state.predictionData})),b.a.createElement("div",null,b.a.createElement(T,{onNewData:this.handleNewData}))))}}]),t}(b.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));E.a.render(b.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[13,1,2]]]);
//# sourceMappingURL=main.1fbc2aa1.chunk.js.map