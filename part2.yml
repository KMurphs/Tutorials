parts:

  - name: Part 2
    intro: In this part we will Setup Jenkins, and setup an automated jon to build, push and deploy our custom appliction.
    steps:

      - cap: Install Jenkins
        com: kubectl apply -f manifests/jenkins.yml; kubectl rollout status deployment/jenkins

      - cap: Open the Jenkins service running in our cluster.  You will retrieve the admin password in the next step.
        com: minikube service jenkins

      - cap: Get Jenkins admin password with the following command.
        com: kubectl exec -it `kubectl get pods --selector=app=jenkins --output=jsonpath={.items..metadata.name}` cat /root/.jenkins/secrets/initialAdminPassword

      - cap: Enter the password above into the Jenkins page and choose to install the suggested plugins.
        com: 

      - cap: Create a new job with type pipeline.
        com: 

      - cap: Scroll down and under "pipeline script" choose "Pipeline script from SCM". 
        com: 

      - cap: Under SCM choose GIT. 
        com: 

      - cap: Fork repo and put "repository url" as your fork, such as https://github.com/kenzanlabs/kubernetes-ci-cd.git. Save and run the job.
        com: 

      - cap: View updated application
        com: minikube service hello-kenzan

      - cap: Push a change to your fork. Run job again. View changes
        com: minikube service hello-kenzan