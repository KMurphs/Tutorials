{"filter":false,"title":"campgrounds.js","tooltip":"/YelpCamp/v10/routes/campgrounds.js","undoManager":{"mark":15,"position":15,"stack":[[{"start":{"row":6,"column":0},"end":{"row":34,"column":1},"action":"remove","lines":["function isLoggedIn(req, res, next){","    if(req.isAuthenticated()){","        return next();","    }","    res.redirect('/login')","}","","function isOriginalAuthor(req, res, next){","    console.log('Verifying permission')","    console.log(req.params.id)","    Campground.findById(req.params.id, function(err, foundEntry){","        if(err){","            console.log('Error retrieving campground Entry')","        } else{","            if(foundEntry.author.id == void(0)){","                res.redirect('/login')","                return","            } else {","                console.log('I got here')","                //mongoose object  and  string","                if(foundEntry.author.id.equals(req.user._id)){","                    return next();","                } else{","                    res.redirect('/login')","                }                ","            }","        }","    })","}"],"id":2}],[{"start":{"row":4,"column":0},"end":{"row":4,"column":104},"action":"insert","lines":["var middleware = require('../middleware') //automatically goes for index.js, since no file is specififed"],"id":3}],[{"start":{"row":36,"column":19},"end":{"row":36,"column":29},"action":"insert","lines":["middleware"],"id":4}],[{"start":{"row":36,"column":29},"end":{"row":36,"column":30},"action":"insert","lines":["."],"id":5}],[{"start":{"row":43,"column":17},"end":{"row":43,"column":27},"action":"insert","lines":["middleware"],"id":6}],[{"start":{"row":43,"column":27},"end":{"row":43,"column":28},"action":"insert","lines":["."],"id":7}],[{"start":{"row":95,"column":24},"end":{"row":95,"column":35},"action":"insert","lines":["middleware."],"id":8}],[{"start":{"row":95,"column":47},"end":{"row":95,"column":58},"action":"insert","lines":["middleware."],"id":9}],[{"start":{"row":110,"column":19},"end":{"row":110,"column":30},"action":"insert","lines":["middleware."],"id":10}],[{"start":{"row":110,"column":42},"end":{"row":110,"column":53},"action":"insert","lines":["middleware."],"id":11}],[{"start":{"row":133,"column":22},"end":{"row":133,"column":33},"action":"insert","lines":["middleware."],"id":12}],[{"start":{"row":133,"column":45},"end":{"row":133,"column":56},"action":"insert","lines":["middleware."],"id":13}],[{"start":{"row":95,"column":58},"end":{"row":95,"column":74},"action":"remove","lines":["isOriginalAuthor"],"id":14},{"start":{"row":95,"column":58},"end":{"row":95,"column":82},"action":"insert","lines":["isOriginalAuthor_Comment"]}],[{"start":{"row":95,"column":58},"end":{"row":95,"column":82},"action":"remove","lines":["isOriginalAuthor_Comment"],"id":15},{"start":{"row":95,"column":58},"end":{"row":95,"column":85},"action":"insert","lines":["isOriginalAuthor_Campground"]}],[{"start":{"row":110,"column":53},"end":{"row":110,"column":69},"action":"remove","lines":["isOriginalAuthor"],"id":16},{"start":{"row":110,"column":53},"end":{"row":110,"column":80},"action":"insert","lines":["isOriginalAuthor_Campground"]}],[{"start":{"row":133,"column":56},"end":{"row":133,"column":72},"action":"remove","lines":["isOriginalAuthor"],"id":17},{"start":{"row":133,"column":56},"end":{"row":133,"column":83},"action":"insert","lines":["isOriginalAuthor_Campground"]}]]},"ace":{"folds":[],"scrolltop":960,"scrollleft":0,"selection":{"start":{"row":90,"column":0},"end":{"row":90,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":67,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1556794020734,"hash":"9ddf3f3d727574210ff0c0e9a65a80688935727a"}